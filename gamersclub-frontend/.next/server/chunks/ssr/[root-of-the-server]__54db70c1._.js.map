{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/guga0/Gamersclub/gamersclub-frontend/pages/add-funds.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useAuth } from \"@/lib/AuthContext\";\r\nimport { PaymentIcon } from \"react-svg-credit-card-payment-icons\";\r\n\r\nconst predefinedAmounts = [5, 10, 20, 50];\r\n\r\nexport default function AddFundsPage() {\r\n  const { user, addFunds } = useAuth();\r\n  const [selectedAmount, setSelectedAmount] = useState<number | null>(null);\r\n  const [step, setStep] = useState<\"selectAmount\" | \"payment\">(\"selectAmount\");\r\n  const [paymentMethod, setPaymentMethod] = useState<\"card\" | \"paypal\">(\"card\");\r\n  const [cardNumber, setCardNumber] = useState(\"\");\r\n  const [cardExpiry, setCardExpiry] = useState(\"\");\r\n  const [cardCVV, setCardCVV] = useState(\"\");\r\n  const [paypalEmail, setPaypalEmail] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleProceedToPayment = () => {\r\n    if (!selectedAmount) return alert(\"Escolha um valor primeiro!\");\r\n    setStep(\"payment\");\r\n  };\r\n\r\n  const handleAddFunds = async () => {\r\n    if (!user) return alert(\"Você precisa estar logado.\");\r\n\r\n    if (paymentMethod === \"card\") {\r\n      if (cardNumber.length < 12) return alert(\"Número de cartão inválido!\");\r\n      if (!/^\\d{2}\\/\\d{2}$/.test(cardExpiry)) return alert(\"Data de validade inválida (MM/AA)!\");\r\n      if (cardCVV.length < 3) return alert(\"CVV inválido!\");\r\n    }\r\n\r\n    if (paymentMethod === \"paypal\" && !paypalEmail.includes(\"@\")) {\r\n      return alert(\"Email PayPal inválido!\");\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      addFunds(selectedAmount!);\r\n      alert(`€${selectedAmount!.toFixed(2)} adicionados à sua conta!`);\r\n      setSelectedAmount(null);\r\n      setCardNumber(\"\");\r\n      setCardExpiry(\"\");\r\n      setCardCVV(\"\");\r\n      setPaypalEmail(\"\");\r\n      setStep(\"selectAmount\");\r\n    } catch (error) {\r\n      console.error(\"Erro ao adicionar fundos:\", error);\r\n      alert(\"Ocorreu um erro. Tente novamente.\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const paymentIcons = {\r\n    card: <PaymentIcon type=\"card\" className=\"w-6 h-6 mr-2\" />,\r\n    paypal: <PaymentIcon type=\"paypal\" className=\"w-6 h-6 mr-2\" />,\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center px-6 py-12\">\r\n      <h1 className=\"text-4xl font-bold mb-8\">Adicionar Fundos</h1>\r\n\r\n      <div className=\"bg-gray-800 p-8 rounded-xl shadow-lg w-full max-w-md space-y-6\">\r\n        {step === \"selectAmount\" && (\r\n          <>\r\n            <h2 className=\"text-xl font-semibold mb-2\">Escolha um valor</h2>\r\n            <div className=\"flex gap-3 flex-wrap\">\r\n              {predefinedAmounts.map((amount) => (\r\n                <button\r\n                  key={amount}\r\n                  onClick={() => setSelectedAmount(amount)}\r\n                  className={`px-5 py-2 rounded-lg font-semibold transition ${\r\n                    selectedAmount === amount\r\n                      ? \"bg-blue-600 text-white\"\r\n                      : \"bg-gray-700 text-gray-300 hover:bg-gray-600\"\r\n                  }`}\r\n                >\r\n                  €{amount}\r\n                </button>\r\n              ))}\r\n            </div>\r\n            <button\r\n              onClick={handleProceedToPayment}\r\n              disabled={!selectedAmount}\r\n              className=\"w-full bg-blue-600 hover:bg-blue-700 px-5 py-3 rounded-lg font-bold text-lg transition disabled:opacity-50 mt-4\"\r\n            >\r\n              Avançar para Pagamento\r\n            </button>\r\n          </>\r\n        )}\r\n\r\n        {step === \"payment\" && (\r\n          <>\r\n            <h2 className=\"text-xl font-semibold mb-2\">Método de pagamento</h2>\r\n            <div className=\"flex justify-between gap-4 mb-4\">\r\n              {([\"card\", \"paypal\"] as const).map((method) => (\r\n                <button\r\n                  key={method}\r\n                  onClick={() => setPaymentMethod(method)}\r\n                  className={`flex items-center flex-1 px-4 py-3 rounded-lg font-semibold transition gap-2 ${\r\n                    paymentMethod === method\r\n                      ? \"bg-blue-600 text-white\"\r\n                      : \"bg-gray-700 text-gray-300 hover:bg-gray-600\"\r\n                  }`}\r\n                >\r\n                  {paymentIcons[method]}\r\n                  {method === \"card\" ? \"Cartão\" : \"PayPal\"}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            {paymentMethod === \"card\" && (\r\n              <>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Número do cartão\"\r\n                  value={cardNumber}\r\n                  onChange={(e) => setCardNumber(e.target.value)}\r\n                  className=\"w-full px-3 py-2 rounded-lg bg-gray-700 text-white focus:outline-none mb-2\"\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Validade (MM/AA)\"\r\n                  value={cardExpiry}\r\n                  onChange={(e) => setCardExpiry(e.target.value)}\r\n                  className=\"w-full px-3 py-2 rounded-lg bg-gray-700 text-white focus:outline-none mb-2\"\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"CVV\"\r\n                  value={cardCVV}\r\n                  onChange={(e) => setCardCVV(e.target.value)}\r\n                  className=\"w-full px-3 py-2 rounded-lg bg-gray-700 text-white focus:outline-none mb-4\"\r\n                />\r\n              </>\r\n            )}\r\n\r\n            {paymentMethod === \"paypal\" && (\r\n              <input\r\n                type=\"email\"\r\n                placeholder=\"Email do PayPal\"\r\n                value={paypalEmail}\r\n                onChange={(e) => setPaypalEmail(e.target.value)}\r\n                className=\"w-full px-3 py-2 rounded-lg bg-gray-700 text-white focus:outline-none mb-4\"\r\n              />\r\n            )}\r\n\r\n            <button\r\n              onClick={handleAddFunds}\r\n              disabled={loading}\r\n              className=\"w-full bg-blue-600 hover:bg-blue-700 px-5 py-3 rounded-lg font-bold text-lg transition disabled:opacity-50\"\r\n            >\r\n              {loading ? \"Processando...\" : `Adicionar €${selectedAmount?.toFixed(2)}`}\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => setStep(\"selectAmount\")}\r\n              className=\"w-full mt-2 bg-gray-700 hover:bg-gray-600 px-5 py-2 rounded-lg text-white font-semibold\"\r\n            >\r\n              Voltar\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}