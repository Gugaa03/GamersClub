{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/guga0/Gamersclub/gamersclub-frontend/pages/games/%5Bid%5D.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { supabase } from \"@/lib/supabaseClient\";\r\nimport { useCart, Game as CartGame } from \"@/lib/CardContext\";\r\n\r\ninterface Game {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  image: string;\r\n  price: number | string | null;\r\n  category?: string;\r\n  reviews?: { user: string; rating: number; comment: string }[];\r\n}\r\n\r\nconst formatPrice = (price: number | string | null) => {\r\n  if (price === null) return \"Pre√ßo indispon√≠vel\";\r\n  if (typeof price === \"string\") return price;\r\n  return `${price.toFixed(2)} ‚Ç¨`;\r\n};\r\n\r\nexport default function GamePage() {\r\n  const router = useRouter();\r\n  const { id } = router.query;\r\n  const [game, setGame] = useState<Game | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const { addToCart, clearCart } = useCart();\r\n\r\n  // Adicionar ao carrinho sem limpar\r\n  const handleAddToCart = () => {\r\n    if (!game) return;\r\n    const gameToAdd: CartGame = {\r\n      id: game.id,\r\n      title: game.title,\r\n      price: Number(game.price || 0),\r\n      image: game.image,\r\n    };\r\n    addToCart(gameToAdd);\r\n    alert(`${game.title} foi adicionado ao carrinho üõí`);\r\n  };\r\n\r\n  // Comprar agora: limpa carrinho, adiciona o jogo e vai para o checkout existente\r\n  const handleBuyNow = () => {\r\n  if (!game) return;\r\n\r\n  const gameToAdd: Game = {\r\n    id: game.id,\r\n    title: game.title,\r\n    price: Number(game.price || 0),\r\n    image: game.image,\r\n  };\r\n\r\n  clearCart(); // Limpa o carrinho\r\n  addToCart(gameToAdd); // Adiciona apenas este jogo\r\n  localStorage.setItem(\"cart\", JSON.stringify([gameToAdd])); // Persist√™ncia\r\n\r\n  router.push(\"/Checkout\"); // Redireciona para a p√°gina de checkout\r\n};\r\n\r\n  useEffect(() => {\r\n    if (!id || typeof id !== \"string\") return;\r\n\r\n    async function fetchGame() {\r\n      setLoading(true);\r\n      const { data, error } = await supabase\r\n        .from(\"games\")\r\n        .select(\"*\")\r\n        .eq(\"id\", id)\r\n        .single();\r\n\r\n      if (error) {\r\n        console.error(\"‚ùå Erro ao buscar jogo:\", error);\r\n        setGame(null);\r\n      } else {\r\n        setGame(data);\r\n      }\r\n      setLoading(false);\r\n    }\r\n\r\n    fetchGame();\r\n  }, [id]);\r\n\r\n  if (loading)\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-900 via-gray-800 to-black text-white\">\r\n        <p className=\"text-xl animate-pulse\">Carregando...</p>\r\n      </div>\r\n    );\r\n\r\n  if (!game)\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-900 via-gray-800 to-black text-white\">\r\n        <p className=\"text-xl\">‚ùå Jogo n√£o encontrado.</p>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-black text-white\">\r\n      <div className=\"pt-24 max-w-6xl mx-auto px-6 space-y-16\">\r\n        {/* Cabe√ßalho */}\r\n        <div className=\"flex flex-col md:flex-row gap-8 bg-gray-800 rounded-2xl shadow-lg overflow-hidden p-6\">\r\n          <img\r\n            src={game.image}\r\n            alt={game.title}\r\n            className=\"w-full md:w-1/3 h-auto rounded-lg object-cover shadow-lg\"\r\n          />\r\n          <div className=\"flex-1 flex flex-col justify-between\">\r\n            <div>\r\n              <h1 className=\"text-4xl font-bold mb-4\">{game.title}</h1>\r\n              <p className=\"text-xl text-blue-400 font-semibold mb-4\">\r\n                {formatPrice(game.price)}\r\n              </p>\r\n              <p className=\"text-gray-300 leading-relaxed\">{game.description}</p>\r\n            </div>\r\n            <div className=\"mt-6 flex gap-4\">\r\n              <button\r\n                onClick={handleBuyNow}\r\n                className=\"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg text-lg font-semibold transition-transform transform hover:scale-105\"\r\n              >\r\n                Comprar Agora\r\n              </button>\r\n              <button\r\n                onClick={handleAddToCart}\r\n                className=\"bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg text-lg font-semibold transition-transform transform hover:scale-105\"\r\n              >\r\n                Adicionar ao Carrinho\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* G√©neros */}\r\n        <section>\r\n          <h2 className=\"text-2xl font-bold mb-4\">üé≠ G√©neros</h2>\r\n          <div className=\"flex flex-wrap gap-3\">\r\n            <span className=\"px-4 py-2 bg-gray-700 rounded-lg\">Aventura</span>\r\n            <span className=\"px-4 py-2 bg-gray-700 rounded-lg\">A√ß√£o</span>\r\n            <span className=\"px-4 py-2 bg-gray-700 rounded-lg\">Terror</span>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Caracter√≠sticas */}\r\n        <section>\r\n          <h2 className=\"text-2xl font-bold mb-4\">‚ú® Caracter√≠sticas</h2>\r\n          <ul className=\"list-disc list-inside text-gray-300 space-y-2\">\r\n            <li>Jogador individual</li>\r\n            <li>Hist√≥ria imersiva</li>\r\n            <li>Suporte a m√∫ltiplos idiomas</li>\r\n          </ul>\r\n        </section>\r\n\r\n        {/* Requisitos */}\r\n        <section>\r\n          <h2 className=\"text-2xl font-bold mb-4\">üíª Requisitos de Sistema</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div className=\"bg-gray-800 p-4 rounded-lg\">\r\n              <h3 className=\"font-semibold mb-2\">M√≠nimo</h3>\r\n              <p>OS: Windows 7 64-bit</p>\r\n              <p>CPU: 2.5 GHz Quad-core Intel ou AMD</p>\r\n              <p>Mem√≥ria: 4 GB RAM</p>\r\n              <p>GPU: 1 GB VRAM</p>\r\n              <p>DirectX: 11</p>\r\n            </div>\r\n            <div className=\"bg-gray-800 p-4 rounded-lg\">\r\n              <h3 className=\"font-semibold mb-2\">Recomendado</h3>\r\n              <p>OS: Windows 10 64-bit</p>\r\n              <p>CPU: 3.0 GHz Quad-core Intel ou AMD</p>\r\n              <p>Mem√≥ria: 8 GB RAM</p>\r\n              <p>GPU: 2 GB VRAM</p>\r\n              <p>DirectX: 12</p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Avalia√ß√µes */}\r\n        <section>\r\n          <h2 className=\"text-2xl font-bold mb-4\">‚≠ê Avalia√ß√µes</h2>\r\n          {game.reviews && game.reviews.length > 0 ? (\r\n            game.reviews.map((r, i) => (\r\n              <div key={i} className=\"mb-4 p-4 bg-gray-800 rounded-lg\">\r\n                <p className=\"font-semibold\">{r.user}</p>\r\n                <p>‚≠ê {r.rating}/5</p>\r\n                <p className=\"text-gray-300\">{r.comment}</p>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <p className=\"text-gray-400\">Ainda n√£o h√° avalia√ß√µes.</p>\r\n          )}\r\n        </section>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"bg-gray-800 text-gray-400 py-8 mt-16\">\r\n        <div className=\"max-w-6xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center\">\r\n          <p className=\"text-sm\">\r\n            &copy; {new Date().getFullYear()} GamersClub. Todos os direitos reservados.\r\n          </p>\r\n          <div className=\"flex space-x-6 mt-4 md:mt-0\">\r\n            <a href=\"/terms\" className=\"hover:text-white transition\">\r\n              Termos de Servi√ßo\r\n            </a>\r\n            <a href=\"/privacy\" className=\"hover:text-white transition\">\r\n              Pol√≠tica de Privacidade\r\n            </a>\r\n            <a href=\"/contact\" className=\"hover:text-white transition\">\r\n              Contato\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}